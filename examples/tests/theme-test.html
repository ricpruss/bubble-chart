<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Bubble Chart - Theme Test for All Types</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <script src="../../dist/bubble-chart.min.js"></script>
  <style>
    body { 
      margin: 0; 
      background: #f8f9fa;
      font-family: Arial, sans-serif;
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }
    h1 {
      text-align: center;
      color: #2c3e50;
      margin-bottom: 30px;
    }
    .chart-row {
      display: flex;
      gap: 20px;
      margin-bottom: 30px;
      flex-wrap: wrap;
    }
    .chart-container {
      flex: 1;
      min-width: 300px;
      height: 400px;
      border: 2px solid #e0e0e0;
      border-radius: 8px;
      background: white;
      position: relative;
    }
    .chart-title {
      position: absolute;
      top: 10px;
      left: 10px;
      font-weight: bold;
      color: #333;
      z-index: 10;
      background: rgba(255,255,255,0.9);
      padding: 5px 10px;
      border-radius: 4px;
    }
    .status {
      padding: 15px;
      border-radius: 6px;
      font-weight: 500;
      text-align: center;
      margin: 10px 0;
    }
    .status.success {
      background: #e8f5e8;
      border: 1px solid #c8e6c9;
      color: #2e7d32;
    }
    .status.error {
      background: #ffebee;
      border: 1px solid #ffcdd2;
      color: #c62828;
    }
    .theme-info {
      margin: 20px 0;
      padding: 15px;
      background: #f0f7ff;
      border-radius: 6px;
      color: #1565c0;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>üé® Theme Test - All Bubble Types</h1>
    
    <div class="status success" id="status">Testing themes across all bubble types...</div>
    
    <div class="theme-info">
      <strong>Theme Assignments:</strong><br>
      ‚Ä¢ Bubble (default): Corporate theme<br>
      ‚Ä¢ Wave: Ocean theme<br>
      ‚Ä¢ Liquid: Sunset theme<br>
      ‚Ä¢ Tree: Forest theme<br>
      ‚Ä¢ Orbit: Wave theme<br>
      ‚Ä¢ Motion: Corporate theme<br>
      ‚Ä¢ List: Slate theme
    </div>
    
    <!-- Row 1: Standard and Wave -->
    <div class="chart-row">
      <div class="chart-container">
        <div class="chart-title">Standard Bubble (Corporate)</div>
        <div id="bubble-chart"></div>
      </div>
      <div class="chart-container">
        <div class="chart-title">Wave Bubble (Ocean)</div>
        <div id="wave-chart"></div>
      </div>
    </div>
    
    <!-- Row 2: Liquid and Tree -->
    <div class="chart-row">
      <div class="chart-container">
        <div class="chart-title">Liquid Bubble (Sunset)</div>
        <div id="liquid-chart"></div>
      </div>
      <div class="chart-container">
        <div class="chart-title">Tree Bubble (Forest)</div>
        <div id="tree-chart"></div>
      </div>
    </div>
    
    <!-- Row 3: Orbit and Motion -->
    <div class="chart-row">
      <div class="chart-container">
        <div class="chart-title">Orbit Bubble (Wave)</div>
        <div id="orbit-chart"></div>
      </div>
      <div class="chart-container">
        <div class="chart-title">Motion Bubble (Corporate)</div>
        <div id="motion-chart"></div>
      </div>
    </div>
    
    <!-- Row 4: List -->
    <div class="chart-row">
      <div class="chart-container">
        <div class="chart-title">List Bubble (Slate)</div>
        <div id="list-chart"></div>
      </div>
    </div>
  </div>

  <script>
    try {
      // Sample data with categories for color grouping
      const data = [
        { "label": "Technology", "size": 40, "category": "Tech" },
        { "label": "Healthcare", "size": 35, "category": "Health" },
        { "label": "Finance", "size": 30, "category": "Finance" },
        { "label": "Education", "size": 25, "category": "Education" },
        { "label": "Retail", "size": 20, "category": "Retail" },
        { "label": "Energy", "size": 15, "category": "Energy" }
      ];

      // Create charts for each type
      const chartConfigs = [
        { id: "#bubble-chart", type: "none", title: "Standard Bubble", theme: "corporate" },
        { id: "#wave-chart", type: "wave", title: "Wave Bubble", theme: "ocean" },
        { id: "#liquid-chart", type: "liquid", title: "Liquid Bubble", theme: "sunset" },
        { id: "#tree-chart", type: "tree", title: "Tree Bubble", theme: "forest" },
        { id: "#orbit-chart", type: "orbit", title: "Orbit Bubble", theme: "wave" },
        { id: "#motion-chart", type: "motion", title: "Motion Bubble", theme: "corporate" },
        { id: "#list-chart", type: "list", title: "List Bubble", theme: "slate" }
      ];

      let successCount = 0;
      let errorCount = 0;

      chartConfigs.forEach(config => {
        try {
          const chart = BubbleChart.create(config.id)
            .withData(data)
            .withLabel("label")
            .withSize("size")
            .withColor("category")
            .withType(config.type)
            .withTheme(config.theme)
            .withResponsive({
              minWidth: 280,
              minHeight: 300,
              debounceMs: 200
            })
            .withAnimations("gentle")
            .build();
          
          console.log(`‚úÖ ${config.title} created successfully`);
          successCount++;
        } catch (error) {
          console.error(`‚ùå Error creating ${config.title}:`, error);
          errorCount++;
        }
      });

      // Update status
      const statusEl = document.getElementById('status');
      if (errorCount === 0) {
        statusEl.innerHTML = `‚úÖ All ${successCount} chart types created successfully with themes!`;
        statusEl.className = 'status success';
      } else {
        statusEl.innerHTML = `‚ö†Ô∏è ${successCount} succeeded, ${errorCount} failed`;
        statusEl.className = 'status error';
      }

    } catch (error) {
      console.error('‚ùå Error in theme test:', error);
      const statusEl = document.getElementById('status');
      statusEl.innerHTML = '‚ùå Error: ' + error.message;
      statusEl.className = 'status error';
    }
  </script>

</body>
</html>
